<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>{$title}</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet" />
        <link href="../../font-awesome/css/font-awesome.css" rel="stylesheet" />
        <link href="../../css/animate.css" rel="stylesheet" />
		<link href="../../css/plugins/toastr/toastr.min.css" rel="stylesheet">
        <link href="../../css/plugins/jsTree/style.min.css" rel="stylesheet" />
        <link href="../../css/style.css" rel="stylesheet" />
        <link href="../../css/data/object-editor.css" rel="stylesheet" />
        <base id="urlbase" href="{$$base}" />
    </head>
    <body>
        <div id="wrapper">
            <!--Главное меню слева-->
            {require "../../~section/mainmenu.html"}
            <!--Конец меню-->

            <div id="page-wrapper" class="gray-bg">
                <!-- Head menu -->
                {require "../../~section/head.html"}
                <!-- End head menu -->

                <!-- Менюшка title-->
                {require "../../~section/title.html"}
                <!-- конец title-->

                <div class="wrapper wrapper-content animated fadeInRight">
                    <div class="row">
                        <div class="col-md-4">
                            <div id="nestable-menu">
                                <button type="button" data-action="expand-all" class="btn btn-white btn-sm">Expand All</button>
                                <button type="button" data-action="collapse-all" class="btn btn-white btn-sm">Collapse All</button>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="ibox">
                                <div class="ibox-title">
                                    <h5>Список элементов</h5>
                                    <!--
                              <a href="admin/constructor/object/edit" class="btn btn-primary btn-xs pull-right">Сохранить объект</a>
                              -->
                                    <!--
                           <a onclick="save_object('admin/constructor/object/set?collection='+encodeURIComponent(collection)+'&objectname='+encodeURIComponent(objectname) )" class="btn btn-primary btn-xs pull-right">Сохранить объект</a>
-->
                                    <a class="btn btn-primary btn-xs pull-right btn-save-collection js-save-collection">
                                        Сохранить объект
                                    </a>
                                </div>
                                <div class="ibox-content element-list">
                                    <div class="form-group has-success">
                                        <!--
                                <label for="title">Название объекта</label>
-->
                                        <input id="objectname" type="text" class="form-control" value="{$object}" placeholder="Название объекта" />
                                    </div>
                                    <p class="m-b-lg">
                                        <button type="button" class="btn btn-block btn-white js-tree-add-node">Добавить элемент</button>
                                    </p>
                                    <div id="object-tree"></div>
                                    <hr />
                                    <div class="js-tree-info js-tree-errors"><i class="fa fa-warning"></i> Элементы одного родителя не должны иметь одинаковых названий</div>
                                    <div class="js-tree-info js-tree-warnings"><i class="fa fa-warning"></i> Элемент не может быть пустым: он должен содержать свойства или другие элементы</div>
                                    <div class="js-tree-info"><i class="fa fa-info-circle"></i> Для изменения порядка элементы можно перетаскивать</div>
                                    <!-- <div class="m-t-md">
                                        <h5>Serialised Output</h5>
                                    </div>
                                    <textarea id="nestable-output" class="form-control"></textarea> -->
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="ibox">
                                <div class="ibox-title">
                                    <h5>Свойства элемента</h5>
                                    <!-- Эта кнопка не нужна. Она вводит пользователя в заблуждение, дублируя функционал существующей кнопки -->
                                    <!-- <a onclick="save_object('admin/constructor/object/set?collection='+encodeURIComponent(collection)+'&objectname='+encodeURIComponent(objectname) )" class="btn btn-primary btn-xs pull-right">Сохранить</a> -->
                                </div>
                                <div class="ibox-content">
                                    <!--
                              <h2>
                                  List of built-in Validation methods
                              </h2>
                              -->
                                    <!--
                              <strong>Nestable</strong> is an interactive hierarchical list. You can drag and drop to rearrange the order. It works well on touch-screens.
                              -->
                                    <!--
                              <button type="button" class="btn btn-block btn-white" onclick="object_table_additem('object_info')">Добавить свойство</button>
                              -->
                                    <div class="m-b-sm properties-table-controls disabled">
                                        <button type="button" class="btn btn-success btn-sm js-properties-table-add-item" data-item-type="blank">Добавить свойство</button>
                                        <div class="btn-group">
                                            <button data-toggle="dropdown" class="btn btn-success btn-sm dropdown-toggle">Добавить <span class="caret"></span></button>
                                            <ul class="dropdown-menu">
                                                <li><a class="js-properties-table-add-item" data-item-type="head" title="Заголовок элемента"><i class="fa fa-header"></i> Заголовок</a></li>
                                                <li><a class="js-properties-table-add-item" data-item-type="link" title="Ссылка элемента"><i class="fa fa-link"></i> Ссылку</a></li>
                                                <li><a class="js-properties-table-add-item" data-item-type="icon" title="Иконка (fa icon или иные библиотеки)"><i class="fa fa-star"></i> Иконку</a></li>
                                                <li><a class="js-properties-table-add-item" data-item-type="info" title="Сопроводительная информация"><i class="fa fa-info-circle"></i> Описание</a></li>
                                                <li><a class="js-properties-table-add-item" data-item-type="text" title="Текст, содержимое"><i class="fa fa-font"></i> Текст</a></li>
                                                <li><a class="js-properties-table-add-item" data-item-type="image" title="Ссылка на изображение"><i class="fa fa-image"></i> Картинку</a></li>
                                            </ul>
                                        </div>
                                        <!-- <div class="pull-right">
                                            <button type="button" class="btn btn-success btn-sm btn-outline" onclick="object_table_additem('object_info', 'head')">Заголовок</button>
                                            <button type="button" class="btn btn-success btn-sm btn-outline" onclick="object_table_additem('object_info', 'link')">Ссылка</button>
                                            <button type="button" class="btn btn-success btn-sm btn-outline" onclick="object_table_additem('object_info', 'icon')">Иконка</button>
                                            <button type="button" class="btn btn-success btn-sm btn-outline" onclick="object_table_additem('object_info', 'info')">Описание</button>
                                            <button type="button" class="btn btn-success btn-sm btn-outline" onclick="object_table_additem('object_info', 'text')">Текст</button>
                                            <button type="button" class="btn btn-success btn-sm btn-outline" onclick="object_table_additem('object_info', 'image')">Картинка</button>
                                        </div> -->
                                        <div class="js-table-errors"><i class="fa fa-warning"></i> Свойства не должны иметь одинаковых названий</div>
                                    </div>

                                    <table class="table table-bordered">
                                        <thead>
                                            <tr>
                                                <th class="col-lg-3">Свойство</th>
                                                <th colspan="2">Содержание</th>
                                            </tr>
                                        </thead>
                                        <tbody id="table-properties">
                                            <tr class="text-center">
                                                <td colspan="3">
                                                    <h4>Список поддерживаемых свойств</h4>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>head</td>
                                                <td colspan="2">Заголовок элемента</td>
                                            </tr>
                                            <tr>
                                                <td>link</td>
                                                <td colspan="2">Ссылка элемента</td>
                                            </tr>
                                            <tr>
                                                <td>icon</td>
                                                <td colspan="2">Иконка (fa icon или иные библиотеки)</td>
                                            </tr>
                                            <tr>
                                                <td>info</td>
                                                <td colspan="2">Сопроводительная информация</td>
                                            </tr>
                                            <tr>
                                                <td>text</td>
                                                <td colspan="2">Текст, содержимое</td>
                                            </tr>
                                            <tr>
                                                <td>image</td>
                                                <td colspan="2">Ссылка на изображение</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Footer block -->
                {require "../../~section/footer.html"}
                <!-- End Footer block -->
            </div>
        </div>
        <!-- Mainly scripts -->
        <script src="../../js/jquery-2.1.1.js"></script>
        <script src="../../js/bootstrap.min.js"></script>
        <script src="../../js/plugins/metisMenu/jquery.metisMenu.js"></script>
        <script src="../../js/plugins/slimscroll/jquery.slimscroll.min.js"></script>
        <!-- Nestable List deprecated -->
        <!-- <script src="../../js/plugins/nestable/jquery.nestable.js"></script> -->
        <!-- jsTree -->
        <script src="../../js/plugins/jsTree/jstree.min.js"></script>
        <!-- <script src="../../js/plugins/jsTree/jstree.js"></script> -->
        <!-- Custom and plugin javascript -->
        <script src="../../js/inspinia.js"></script>
        <script src="../../js/plugins/pace/pace.min.js"></script>
        <!-- Toastr -->
		<script src="../../js/plugins/toastr/toastr.min.js"></script>
        <!-- http-get -->
        <script src="../../js/data/http-get.js"></script>
        <!--Object constructor-->
        <script src="../../js/data/object-editor.js"></script>
    </body>
</html>
