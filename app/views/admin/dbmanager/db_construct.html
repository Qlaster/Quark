<!DOCTYPE html>
<html>
   <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>INSPINIA | Dashboard v.4</title>
      <link href="../css/bootstrap.min.css" rel="stylesheet">
      <link href="../font-awesome/css/font-awesome.css" rel="stylesheet">
      <!-- Morris -->
      <link href="../css/plugins/morris/morris-0.4.3.min.css" rel="stylesheet">
      <link href="../css/animate.css" rel="stylesheet">
      <link href="../css/style.css" rel="stylesheet">
      <!-- Переключатели и флажки -->
      <link href="../css/plugins/switchery/switchery.css" rel="stylesheet">
      <link href="../css/plugins/iCheck/custom.css" rel="stylesheet">
      <base href="{$$base}">
   </head>
   <body>
      <div id="wrapper">
         <!--Главное меню слева-->
         {section "../~section/mainmenu.html"}
         <!--Конец меню-->
         <div id="page-wrapper" class="gray-bg">
			
			<!-- Head menu -->
			{section "../~section/head.html"}
			<!-- End head menu --> 
			
			<!-- Title menu-->
			{section "../~section/title.html"}
			<!-- End title menu -->   
			
            <!--Начало контента страницы-->
            <div class="wrapper wrapper-content">
               <!-- <div class="row">
                  <div class="col-md-2">
                      <div class="ibox float-e-margins">
                          <div class="ibox-title">
                              <span class="label label-success pull-right">Monthly</span>
                              <h5>Views</h5>
                          </div>
                          <div class="ibox-content">
                              <h1 class="no-margins">386,200</h1>
                              <div class="stat-percent font-bold text-success">98% <i class="fa fa-bolt"></i></div>
                              <small>Total views</small>
                          </div>
                      </div>
                  </div>
                  <div class="col-md-2">
                      <div class="ibox float-e-margins">
                          <div class="ibox-title">
                              <span class="label label-info pull-right">Annual</span>
                              <h5>Orders</h5>
                          </div>
                          <div class="ibox-content">
                              <h1 class="no-margins">80,800</h1>
                              <div class="stat-percent font-bold text-info">20% <i class="fa fa-level-up"></i></div>
                              <small>New orders</small>
                          </div>
                      </div>
                  </div>
                  
                  <div class="col-md-4">
                      <div class="ibox float-e-margins">
                          <div class="ibox-title">
                              <span class="label label-primary pull-right">Today</span>
                              <h5>Vistits</h5>
                          </div>
                          <div class="ibox-content">
                  
                              <div class="row">
                                  <div class="col-md-6">
                                      <h1 class="no-margins">$ 406,420</h1>
                                      <div class="font-bold text-navy">44% <i class="fa fa-level-up"></i> <small>Rapid pace</small></div>
                                  </div>
                                  <div class="col-md-6">
                                      <h1 class="no-margins">206,120</h1>
                                      <div class="font-bold text-navy">22% <i class="fa fa-level-up"></i> <small>Slow pace</small></div>
                                  </div>
                              </div>
                  
                  
                          </div>
                      </div>
                  </div>
                  <div class="col-md-4">
                      <div class="ibox float-e-margins">
                          <div class="ibox-title">
                              <h5>Monthly income</h5>
                              <div class="ibox-tools">
                                  <span class="label label-primary">Updated 12.2015</span>
                              </div>
                          </div>
                          <div class="ibox-content no-padding">
                              <div class="flot-chart m-t-lg" style="height: 55px;">
                                  <div class="flot-chart-content" id="flot-chart1"></div>
                              </div>
                          </div>
                  
                      </div>
                  </div>
                  
                  </div>-->
               <div class="row">
                  <div class="col-lg-12">
                     <div class="ibox float-e-margins">
                        <div class="ibox-title">
                           <h5>Конструктор полей таблицы</h5>
                           <div class="ibox-tools">
                              <a class="collapse-link">
                              <i class="fa fa-chevron-up"></i>
                              </a>
                              <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                              <i class="fa fa-wrench"></i>
                              </a>
                              <ul class="dropdown-menu dropdown-user">
                                 <li><a href="#">Config option 1</a>
                                 </li>
                                 <li><a href="#">Config option 2</a>
                                 </li>
                              </ul>
                              <a class="close-link">
                              <i class="fa fa-times"></i>
                              </a>
                           </div>
                        </div>
                        <div class="ibox-content">
                           <form method='POST' action='admin/db/table_create?base={$table["data"]["name"]}'>
                              <div class="row">
                                 <div class="col-sm-8 m-b-xs">
                                    <a class="btn btn-sm btn-primary" onclick='add_row()'>
                                    <span class="fa fa-plus"> </span> 
                                    Добавить поле
                                    </a>
                                    <a class="btn btn-sm btn-success btn-outline" title='Добавить ключ' >
                                    <i class="fa fa-plus"> </i>
                                    <i class="fa fa-key"> </i> 
                                    </a>
                                    <!--
                                       <div data-toggle="buttons" class="btn-group">
                                       	<a class="btn btn-sm btn-primary" href='add'>Create new page</a>
                                       	<label class="btn btn-sm btn-white"> <input type="radio" id="option1" name="options"> Day </label>
                                       	<label class="btn btn-sm btn-white active"> <input type="radio" id="option2" name="options"> Week </label>
                                       	<label class="btn btn-sm btn-white"> <input type="radio" id="option3" name="options"> Month </label>
                                       </div>
                                       -->
                                 </div>
                                 <div class="col-sm-4">
                                    <div class="input-group">
                                       <input type="text" name='tablename' placeholder="Название таблицы (A-z_)" class="input-sm form-control" required> 
                                       <span class="input-group-btn">
                                          <!--
                                             <button type="button" class="btn btn-sm btn-primary"> Сохранить</button> 
                                             -->
                                          <input type="submit" class="btn btn-sm btn-primary" value='Сохранить'> 
                                       </span>
                                    </div>
                                 </div>
                              </div>
                              <div class="table-responsive">
                                 <table class="table table-striped">
                                    <thead>
                                       <tr>
                                          <th>
                                             <div class="fa fa-eye"> </div>
                                          </th>
                                          <th class="text-center">Название поля db</th>
                                          <!--
                                             <th class="text-center">Тип</th>
                                             -->
                                          <th class="text-center">Описание поля</th>
                                          <th class="text-center">Вид хранимых данных</th>
                                          <th class="text-center"></th>
                                       </tr>
                                    </thead>
                                    <tbody id='table'>
                                       {for $i = 1; $i <= 0; $i++}
                                       <tr >
                                          <td>
                                             <a type="button" class="btn btn-outline btn-danger btn-xs" title="Delete" onclick='$(this).parent().parent().remove()' ><i class="fa fa-times"> </i></a> 
                                          </td>
                                          <td> <input type="text" placeholder="(только A-z_)" class="input-sm form-control" required> </td>
                                          <!--
                                             <td  class="col-lg-1 col-md-1 ">
                                             	<select class="form-control m-b" name="account">
                                             			<option>TEXT</option>
                                             			<option>INTEGER</option>
                                             			<option>NUMERIC</option>
                                             			<option>REAL</option>
                                             			<option>BLOB</option>
                                             	</select>
                                             </td>                            
                                             -->
                                          <td> <input type="text" placeholder="(Заголовок)" class="input-sm form-control"> </td>
                                          <td>
                                             <select class="form-control m-b" name="account">
                                                <option>[ TEXT ] - Текст</option>
                                                <option>[ INT  ] - Целое число</option>
                                                <option>[ REAL ] - Дробное или целое число</option>
                                                <option>[ TEXT ] - HTML код</option>
                                                <option>[ TEXT ] - Ссылка (картинка)</option>
                                                <option>[ TEXT ] - Ссылка (видео)</option>
                                                <option>[ TEXT ] - Ссылка (аудио)</option>
                                                <option>[ BLOB ] - Бинарные данные</option>
                                                <option>[ BLOB ] - Бинарные данные (картинка)</option>
                                                <option>[ BLOB ] - Бинарные данные (документ)</option>
                                                <option>[ INT  ] - Boolean check</option>
                                             </select>
                                          </td>
                                          <td >
                                             <div class="checkbox i-checks checkbox-inline">
                                                <label title='Первичный ключ'> <input type="checkbox" value="" > <i class='fa fa-key'></i></label>
                                                <label title="Автоинкремент"> <input type="checkbox" value="" >  <i class='fa fa-level-down'></i></label>
                                             </div>
                                          </td>
                                       </tr>
                                       {end}
                                    </tbody>
                                 </table>
                           </form>
                           </div>
                           <!--
                              <div class="hr-line-dashed"></div>
                              -->
                           </form>	
                        </div>
                        <script>
                           //Добавляем новое поле
                           function add_row()
                           {
                           	if ( typeof add_row.counter == 'undefined' ) add_row.counter = 0; 				
                           	add_row.counter++; 
                           	
                           	//Добавляем к таблице
                           	$( "#new_name" ).attr('name', 'name_'+add_row.counter);
                           	$( "#new_head" ).attr('name', 'head_'+add_row.counter);
                           	$( "#new_type" ).attr('name', 'type_'+add_row.counter);
                           	
                           	$( "#table" ).append( $( "#table-tr" ).html() );
                           	
                           	$( "#new_name" ).removeAttr('id');
                           	$( "#new_head" ).removeAttr('id');
                           	$( "#new_type" ).removeAttr('id');
                           }
                            
                        </script>
                     </div>
                  </div>
               </div>
            </div>
            <!-- Footer block -->
            {section "../~section/footer.html"}
            <!-- End Footer block -->
         </div>
      </div>
      <table class='hidden'>
         <tbody id='table-tr'>
            <tr >
               <td>
                  <a type="button" class="btn btn-outline btn-danger btn-xs" title="Delete" onclick='$(this).parent().parent().remove()' ><i class="fa fa-times"> </i></a> 
               </td>
               <td> <input type="text" placeholder="(только A-z_)" class="input-sm form-control" id='new_name' required> </td>
               <td> <input type="text" placeholder="(Заголовок)" class="input-sm form-control" id='new_head'> </td>
               <td>
                  <select class="form-control m-b" name="account" id='new_type'>
                     {foreach $catalog['types'] as $_key => $_value}
                     <option  value='{$_key}'>[ {$_value['type']} ] - {$_value['head']}</option>
                     {end}
                     <!--
                        <option  value='TEXT'>[ TEXT ] - Текст</option>
                        <option  value='INT'> [ INT  ] - Целое число</option>
                        <option  value='REAL'>[ REAL ] - Дробное или целое число</option>
                        <option  value='TEXT'>[ TEXT ] - HTML код</option>
                        <option  value='TEXT'>[ TEXT ] - Ссылка (картинка)</option>
                        <option  value='TEXT'>[ TEXT ] - Ссылка (видео)</option>
                        <option  value='TEXT'>[ TEXT ] - Ссылка (аудио)</option>
                        <option  value='BLOB'>[ BLOB ] - Бинарные данные</option>
                        <option  value='BLOB'>[ BLOB ] - Бинарные данные (картинка)</option>
                        <option  value='BLOB'>[ BLOB ] - Бинарные данные (документ)</option>
                        <option  value='INT'> [ INT  ] - Boolean Check</option>
                        -->
                  </select>
               </td>
               <td >
                  <div class="checkbox i-checks checkbox-inline">
                     <label title='Первичный ключ'> <input type="checkbox" value="" > <i class='fa fa-key'></i></label>
                     <label title="Автоинкремент"> <input type="checkbox" value="" >  <i class='fa fa-level-down'></i></label>
                  </div>
               </td>
            </tr>
         </tbody>
      </table>
      <!-- Mainly scripts -->
      <script src="../js/jquery-2.1.1.js"></script>
      <script src="../js/bootstrap.min.js"></script>
      <script src="../js/plugins/metisMenu/jquery.metisMenu.js"></script>
      <script src="../js/plugins/slimscroll/jquery.slimscroll.min.js"></script>
      <!-- Flot -->
      <script src="../js/plugins/flot/jquery.flot.js"></script>
      <script src="../js/plugins/flot/jquery.flot.tooltip.min.js"></script>
      <script src="../js/plugins/flot/jquery.flot.spline.js"></script>
      <script src="../js/plugins/flot/jquery.flot.resize.js"></script>
      <script src="../js/plugins/flot/jquery.flot.pie.js"></script>
      <script src="../js/plugins/flot/jquery.flot.symbol.js"></script>
      <script src="../js/plugins/flot/curvedLines.js"></script>
      <!-- Peity -->
      <script src="../js/plugins/peity/jquery.peity.min.js"></script>
      <script src="../js/demo/peity-demo.js"></script>
      <!-- Custom and plugin javascript -->
      <script src="../js/inspinia.js"></script>
      <script src="../js/plugins/pace/pace.min.js"></script>
      <!-- jQuery UI -->
      <script src="../js/plugins/jquery-ui/jquery-ui.min.js"></script>
      <!-- Jvectormap -->
      <script src="../js/plugins/jvectormap/jquery-jvectormap-1.2.2.min.js"></script>
      <script src="../js/plugins/jvectormap/jquery-jvectormap-world-mill-en.js"></script>
      <!-- Sparkline -->
      <script src="../js/plugins/sparkline/jquery.sparkline.min.js"></script>
      <!-- Sparkline demo data  -->
      <script src="../js/demo/sparkline-demo.js"></script>
      <!-- ChartJS-->
      <script src="../js/plugins/chartJs/Chart.min.js"></script>
      <!-- iCheck -->
      <script src="../js/plugins/iCheck/icheck.min.js"></script>  
      <script>
         $(document).ready(function () {
                $('.i-checks').iCheck({
                     checkboxClass: 'icheckbox_square-green',
                     radioClass: 'iradio_square-green',
                 });
         });
      </script>
      <script>
         $(document).ready(function() {
         
         
             var d1 = [[1262304000000, 6], [1264982400000, 3057], [1267401600000, 20434], [1270080000000, 31982], [1272672000000, 26602], [1275350400000, 27826], [1277942400000, 24302], [1280620800000, 24237], [1283299200000, 21004], [1285891200000, 12144], [1288569600000, 10577], [1291161600000, 10295]];
             var d2 = [[1262304000000, 5], [1264982400000, 200], [1267401600000, 1605], [1270080000000, 6129], [1272672000000, 11643], [1275350400000, 19055], [1277942400000, 30062], [1280620800000, 39197], [1283299200000, 37000], [1285891200000, 27000], [1288569600000, 21000], [1291161600000, 17000]];
         
             //~ var data1 = [
                 //~ { label: "Data 1", data: d1, color: '#17a084'},
                 //~ { label: "Data 2", data: d2, color: '#127e68' }
             //~ ];
             //~ $.plot($("#flot-chart1"), data1, {
                 //~ xaxis: {
                     //~ tickDecimals: 0
                 //~ },
                 //~ series: {
                     //~ lines: {
                         //~ show: true,
                         //~ fill: true,
                         //~ fillColor: {
                             //~ colors: [{
                                 //~ opacity: 1
                             //~ }, {
                                 //~ opacity: 1
                             //~ }]
                         //~ },
                     //~ },
                     //~ points: {
                         //~ width: 0.1,
                         //~ show: false
                     //~ },
                 //~ },
                 //~ grid: {
                     //~ show: false,
                     //~ borderWidth: 0
                 //~ },
                 //~ legend: {
                     //~ show: false,
                 //~ }
             //~ });
         
             var lineData = {
                 labels: ["Понедельник", "Вторник", "Среда", "Четверг", "Пятница", "Суббота", "Воскресенье"],
                 datasets: [
                     {
                         label: "Example dataset",
                         fillColor: "rgba(220,220,220,0.5)",
                         strokeColor: "rgba(220,220,220,1)",
                         pointColor: "rgba(220,220,220,1)",
                         pointStrokeColor: "#fff",
                         pointHighlightFill: "#fff",
                         pointHighlightStroke: "rgba(220,220,220,1)",
                         data: [165, 159, 140, 151, 136, 125, 140]
                     },
                     {
                         label: "Example dataset",
                         fillColor: "rgba(26,179,148,0.5)",
                         strokeColor: "rgba(26,179,148,0.7)",
                         pointColor: "rgba(26,179,148,1)",
                         pointStrokeColor: "#fff",
                         pointHighlightFill: "#fff",
                         pointHighlightStroke: "rgba(26,179,148,1)",
                         data: [48, 48, 60, 39, 56, 37, 30]
                     }
                 ]
             };
         
             var lineOptions = {
                 scaleShowGridLines: true,
                 scaleGridLineColor: "rgba(0,0,0,.05)",
                 scaleGridLineWidth: 1,
                 bezierCurve: true,
                 bezierCurveTension: 0.4,
                 pointDot: true,
                 pointDotRadius: 4,
                 pointDotStrokeWidth: 1,
                 pointHitDetectionRadius: 20,
                 datasetStroke: true,
                 datasetStrokeWidth: 2,
                 datasetFill: true,
                 responsive: true,
             };
         
         
             var ctx = document.getElementById("lineChart").getContext("2d");
             var myNewChart = new Chart(ctx).Line(lineData, lineOptions);
         
         });
      </script>
   </body>
</html>
